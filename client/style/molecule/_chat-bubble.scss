
/*

	Note : La classe chat-bubble-mine vient étendre la classe
	       chat-bubble pour lui ajouter une couleure verte et
	       display ses boutons d'administrations

	Markup :

	<div className="chat-bubble">
	    <img src="images/zorro.jpg"/>
	    <div className="bubble-content">
	        <div className="bubble-content-header">
	            <span className="name">Zorro</span>
	            <span className="date">à 17h34</span>
	            <div className="bubble-content-admin">
	                <i className="icon icon-pencil"/>
	                <i className="icon icon-trash"/>
	            </div>
	        </div>
	        <p>Ton texte ici</p>
	    </div>
	</div>
*/

$bubble-2n-color: #fbfbfb;

.chat-bubble {
	width:100%;
	margin-bottom:$text-size * 1.5;
	>img {
		border-radius:100%;
		width:40px;
		height:40px;
		float:left;
	}
	.bubble-content {
		margin-left:20px;
		padding:0px 15px 15px 15px;
		float:left;
		width:73%;
		border-radius:5px;
		background-color:white;
		display:inline-block;
		position:relative;
		box-shadow: 0 1px 2px rgba(0, 0, 0, .15);
		transition: box-shadow 200ms ease;
		span {
			font-family: $nav-font;
		}

		p {
			margin: 0;
			margin-top:10px;
			max-width:100%;
			word-wrap:break-word;
			overflow: hidden;
			text-overflow: ellipsis;
			min-height: 30px;
			img {
				display:inline;
				width:20px;
				height:20px;
				transform: translateY(3px);
				margin-left: 3px;
				margin-right: 3px;
			}
		}
		.bubble-content-header {
			overflow: hidden;
			position:relative;
			padding: 15px 75px 5px 0px;
			.bubble-content-name {
				font-weight: bold;
				display:block;
				user-select: unselectable;
			}
			.bubble-content-date {
				transition: all 200ms ease;
				color:color("grey", "lighten-2");
				user-select: unselectable;
			}
			.bubble-content-admin {
				position:absolute;
				top:13px;
				right:-4px;
				display:block;
				i {
					cursor:pointer;
					font-size: 2rem;
					color:color("grey", "lighten-1");
					transition: color 200ms ease;
					&:hover {
						color:color("grey", "base");
					}
				}
			}
		}
		&::after {
		  content: "";
		  display: block; /* reduce the damage in FF3.0 */
		  position: absolute;
		  top: 15px;
		  left: -8px;
		  width: 0;
		  border-width: 7px 8px 7px 0;
		  border-style: solid;
		  border-color: transparent white;
		}
	}
	&::after {
		content: "";
		display: table;
		clear: both;
	}
	&:hover {
		.bubble-content {
			box-shadow: 0 1px 2px rgba(0, 0, 0, .35);
		}
	}
	&.chat-bubble-mine {
		>img {
			float:right;
		}
		.bubble-content {
			float:right;
			background-color:#f8fdfa;
			margin-right: 20px;
			.bubble-content-date {
				transition: all 200ms ease;
				color:color("grey", "lighten-1");
			}
			&::after {
				right: -8px;
				left:initial;
			  border-width: 7px 0px 7px 8px;
				border-color: transparent #f8fdfa;
			}
		}
	}
}